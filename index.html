<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script type="text/javascript" src="jQuery.js"></script>
	<script type="text/javascript" src="DicoCraft.class.js"></script>
	<script type="text/javascript" src="Craft.class.js"></script>
	<script type="text/javascript">
	function initChoixCraft(dico){
		var lstCraft = dico._craft,
			select = $('#craft');
		for(var i=0;i<lstCraft.length;i++){
			var nom = lstCraft[i].getNom();
			var lib = lstCraft[i].getLibelle();
			var opt =$('<option>').attr('value',nom).text(lib);
			select.append(opt);
		}
	}
	window.MCC_LANGAGE = 'fr';
	var dico = new DicoCraft('elementMC.xml');
	$(function(){
		initChoixCraft(dico);
		$('#run').on('click', function(){
			var nomElem = $('#craft').val();
			var qteElem = $('#nbCraft').val();
			var result = dico.getRessourceFor(nomElem, qteElem);
			var strResult = '';
			for(var i=0;i<result.length; i++){
				strResult += '<p>' + result[i][0] + ' ' + result[i][1].getLibelle() + '</p>';
			}
			$('#result').html(strResult);
		});
	});
	</script>
</head>
<body>
	<form id="calcul">
		<label for="craft">Craft</label><select name="craft" id="craft">
		</select>
		<label for="nbCraft"></label><input name="nbCraft" id="nbCraft" type="text" />
		<input id="run" type="button" value="Calculer"/>
	</form>
	<div id="result">
	</div>
</body>
</html>
